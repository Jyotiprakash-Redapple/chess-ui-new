(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{6397:function(e,a,r){Promise.resolve().then(r.bind(r,7249))},7249:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return j}});var n=r(7437),t=r(2265),s=r(4033),p=r(8830),i=r(7282),c=r.n(i),l=r(6691),o=r.n(l),_=function(e){let{name:a,image:r}=e;return(0,n.jsx)("div",{className:c().player,children:(0,n.jsx)("div",{className:c().player_wrapper,children:(0,n.jsxs)("div",{className:c().inner_wrapper,children:[(0,n.jsx)("div",{className:c().image_wrapper,children:(0,n.jsx)(o(),{src:r,width:20,height:20,alt:"image",style:{width:"100%",height:"100%",borderRadius:"5px"}})}),(0,n.jsx)("div",{className:c().name_wrapper,children:(0,n.jsx)("span",{style:{fontWeight:600,color:"#fff"},children:a})})]})})})},m=r(7594),h=r.n(m),d=r(5549),u=r(3644),v=function(e){let{name:a,image:r,imageArray:p}=e,[i,c]=(0,t.useState)(p),[l,_]=(0,t.useState)(["avik","ruhul","lixa","ebey"]),{appState:m,dispatch:v}=(0,d.b)(),g=(0,s.useRouter)();return(0,t.useEffect)(()=>{if(m.status===u.XN.pending){let e=setInterval(()=>{c([...i.slice(1),i[0]]),_([...l.slice(1),l[0]])},100);return()=>clearInterval(e)}m.status===u.XN.ongoing&&setTimeout(()=>{g.push("/play-game/player",{scroll:!1})},2e3)},[i]),(0,n.jsx)("div",{className:h().opponent,children:(0,n.jsx)("div",{className:h().opponent_wrapper,children:(0,n.jsxs)("div",{className:h().inner_wrapper,children:[(0,n.jsx)("div",{className:h().image_wrapper,children:m.status!==u.XN.pending?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o(),{src:r,width:20,height:20,alt:"image",style:{width:"100%",height:"100%",borderRadius:"5px"}})}):(0,n.jsx)(n.Fragment,{children:i.map((e,a)=>(0,n.jsx)("div",{className:"avatar_opponent",children:(0,n.jsx)(o(),{src:e,width:20,height:20,alt:"image",style:{width:"100%",height:"100%",borderRadius:"5px"}})},a))})}),(0,n.jsx)("div",{className:h().name_wrapper,children:m.status!==u.XN.pending?(0,n.jsx)("span",{style:{fontWeight:600,color:"#fff"},children:a}):(0,n.jsx)(n.Fragment,{children:l.map((e,a)=>(0,n.jsx)("div",{className:"name_opponent",children:(0,n.jsx)("span",{style:{fontWeight:600,color:"transparent",textShadow:"0 0 5px rgba(0,0,0,0.5)"},children:e})},a))})})]})})})};r(1609);var g=function(){let[e,a]=(0,t.useState)(30);localStorage.getItem("auth_token");let r=t.useRef(30),{appState:p,dispatch:i}=(0,d.b)(),c=(0,s.useRouter)(),l=()=>{console.log(p.position),Object.keys(p.position).length||(c.push("/",{scroll:!1}),p.socket.onQueueLeave())};return t.useEffect(()=>{let e=window.setInterval(()=>{if(0===r.current)return;let e=r.current;r.current=Number(e)-1,a(e)},1e3);return()=>{window.clearInterval(e)}},[]),t.useEffect(()=>{0===r.current&&l()},[e]),t.useEffect(()=>{Object.keys(p.position).length&&(r.current=0)},[p.position]),(0,n.jsxs)("div",{className:"_cont",children:[(0,n.jsx)("div",{className:"_spinner"}),(0,n.jsx)("span",{className:"_number",children:e})]})},j=function(){let{appState:e,dispatch:a}=(0,d.b)(),{player:r,opponent:i,imageArray:c}=p.app,l=(0,s.useRouter)();return(0,t.useEffect)(()=>{e.socket?e.socket.getGameInitFromServer(a):l.push("/")},[]),(0,n.jsx)("main",{children:(0,n.jsx)("div",{className:"view_container",children:(0,n.jsx)("div",{className:"search_wrapper",children:(0,n.jsxs)("div",{className:"search_banner_bg",children:[(0,n.jsxs)("div",{className:"inner_wrapper",children:[(0,n.jsxs)("div",{className:"match_macking",children:[" ",(0,n.jsx)("div",{className:"match_macking_bg"}),(0,n.jsx)("div",{className:"match_macking_logo"})]}),(0,n.jsxs)("div",{className:"match_make_player",children:[(0,n.jsx)(_,{name:r.name,image:r.image}),(0,n.jsx)(v,{name:i.name,image:i.image,imageArray:c}),(0,n.jsx)("span",{className:"player_vs_op"})]})]}),(0,n.jsx)("div",{style:{position:"absolute"},children:(0,n.jsx)(g,{})})]})})})})}},8830:function(e,a,r){"use strict";r.d(a,{app:function(){return n}});let n={gameMode:{online:"online",offline:"offline"},player:{name:"Avik",image:"/search_avatar/avatar1.jpg"},opponent:{name:"Rony",image:"/search_avatar/avatar7.jpg"},imageArray:["/search_avatar/avatar1.jpg","/search_avatar/avatar2.jpg","/search_avatar/avatar3.jpg","/search_avatar/avatar4.png","/search_avatar/avatar5.jpg","/search_avatar/avatar6.jpg","/search_avatar/avatar7.jpg","/search_avatar/avatar8.jpg","/search_avatar/avatar9.jpg"]}},1609:function(){},7594:function(e){e.exports={opponent:"opponent_opponent__j4q5H",opponent_wrapper:"opponent_opponent_wrapper__ootpr",inner_wrapper:"opponent_inner_wrapper__V2FWY",image_wrapper:"opponent_image_wrapper__HcBKU",name_wrapper:"opponent_name_wrapper__TnyFx",avatar_opponent:"opponent_avatar_opponent__u_pZn",name_opponent:"opponent_name_opponent__xh1Cd"}},7282:function(e){e.exports={player:"player_player__kWLLL",player_wrapper:"player_player_wrapper__xHimf",inner_wrapper:"player_inner_wrapper__F9C1r",image_wrapper:"player_image_wrapper__5z6J2",name_wrapper:"player_name_wrapper__D_1wr"}},4033:function(e,a,r){e.exports=r(94)}},function(e){e.O(0,[986,549,971,472,744],function(){return e(e.s=6397)}),_N_E=e.O()}]);